[sqruff]
# BigQueryの方言を指定
dialect = bigquery

# ルールの除外設定
# ST06: カラムの順番（SELECT * の後に記述など）を厳密にチェックするルールなどは、分析用途だと煩わしいため除外
# AM04: Count(*)の使用を推奨するルールなど
exclude_rules = ST06, AM04

# 行の長さ制限（BigQueryは長くなりがちなので120文字程度がおすすめ）
max_line_length = 120

# --- インデント設定 ---
[sqruff:indentation]
indent_unit = space
tab_space_size = 4
indented_joins = false
indented_using_on = true

[sqruff:layout:type:alias_expression]
spacing_before = align
align_within = select_clause
align_scope = bracketed

# --- 大文字・小文字のルール ---
# キーワードは「大文字」、識別子（カラム名など）は「小文字」が標準的です
[sqruff:rules:capitalisation.keywords]
capitalisation_policy = upper

[sqruff:rules:capitalisation.identifiers]
capitalisation_policy = lower

[sqruff:rules:capitalisation.functions]
capitalisation_policy = upper

[sqruff:rules:capitalisation.literals]
capitalisation_policy = upper

# --- エイリアスの設定 ---
# テーブルやカラムのエイリアスに AS を必須にする（可読性向上のため）
[sqruff:rules:aliasing.table]
aliasing = explicit

[sqruff:rules:aliasing.column]
aliasing = explicit

# --- レイアウト設定（カンマの位置など） ---
# BigQueryでは末尾カンマ（trailing）が推奨されることが多いです
[sqruff:layout:type:comma]
line_position = trailing

